<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zapatillas Deportivas para Hombres - Detalles</title>
    <link rel="stylesheet" href="../styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="nav-container">
                <div class="logo">
                    <a href="../index.html" class="logo-link">
                        <img src="../img/logo-detalles.jpg" alt="Detalles - Calzados y Accesorios">
                    </a>
                </div>
                
                <ul class="nav-menu">
                    <li><a href="../index.html">Inicio</a></li>
                    
                    <!-- Submenú Mujeres -->
                    <li class="menu-item-has-children">
                        <a href="#mujeres">Mujeres <i class="fas fa-chevron-down"></i></a>
                        <div class="submenu">
                            <div class="submenu-content">
                                <div class="submenu-column">
                                    <h3>Calzado</h3>
                                    <ul>
                                        <li><a href="../mujeres/zapatillas-deportivas.html">Zapatillas Deportivas</a></li>
                                        <li><a href="../mujeres/zapatos-casuales.html">Zapatos Casuales</a></li>
                                        <li><a href="../mujeres/tacones.html">Tacones</a></li>
                                        <li><a href="../mujeres/sandalias.html">Sandalias</a></li>
                                        <li><a href="../mujeres/botas.html">Botas</a></li>
                                    </ul>
                                </div>
                                <div class="submenu-column">
                                    <h3>Accesorios</h3>
                                    <ul>
                                        <li><a href="../mujeres-accesorios/bolsos.html">Bolsos</a></li>
                                        <li><a href="../mujeres-accesorios/billeteras.html">Billeteras</a></li>
                                        <li><a href="../mujeres-accesorios/gafas-de-sol.html">Gafas de Sol</a></li>
                                        <li><a href="../mujeres-accesorios/cinturones.html">Cinturones</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </li>
                    
                    <!-- Submenú Hombres -->
                    <li class="menu-item-has-children">
                        <a href="#hombres">Hombres <i class="fas fa-chevron-down"></i></a>
                        <div class="submenu">
                            <div class="submenu-content">
                                <div class="submenu-column">
                                    <h3>Calzado</h3>
                                    <ul>
                                        <li><a href="zapatillas-deportivas-h.html">Zapatillas Deportivas</a></li>
                                        <li><a href="zapatos-casuales-h.html">Zapatos Casuales</a></li>
                                        <li><a href="zapatos-formales-h.html">Zapatos Formales</a></li>
                                        <li><a href="botas-h.html">Botas</a></li>
                                        <li><a href="sandalias-h.html">Sandalias</a></li>
                                    </ul>
                                </div>
                                <div class="submenu-column">
                                    <h3>Accesorios</h3>
                                    <ul>
                                        <li><a href="../hombres-accesorios/cinturones-h.html">Cinturones</a></li>
                                        <li><a href="../hombres-accesorios/relojes-h.html">Relojes</a></li>
                                        <li><a href="../hombres-accesorios/gafas-de-sol-h.html">Gafas de Sol</a></li>
                                        <li><a href="../hombres-accesorios/billeteras-h.html">Billeteras</a></li>
                                        <li><a href="../hombres-accesorios/gorros-h.html">Gorros</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </li>
                    
                    <!-- Submenú Niños -->
                    <li class="menu-item-has-children">
                        <a href="#ninos">Niños <i class="fas fa-chevron-down"></i></a>
                        <div class="submenu">
                            <div class="submenu-content">
                                <div class="submenu-column">
                                    <h3>Calzado</h3>
                                    <ul>
                                        <li><a href="../niños/zapatillas-deportivas.html">Zapatillas Deportivas</a></li>
                                        <li><a href="../niños/zapatos-casuales.html">Zapatos Casuales</a></li>
                                        <li><a href="../niños/zapatos-escolares.html">Zapatos Escolares</a></li>
                                        <li><a href="../niños/pantuflas.html">Pantuflas</a></li>
                                        <li><a href="../niños/sandalias.html">Sandalias</a></li>
                                        <li><a href="../niños/botas.html">Botas</a></li>
                                    </ul>
                                </div>
                                <div class="submenu-column">
                                    <h3>Accesorios</h3>
                                    <ul>
                                        <li><a href="../niños-accesorios/calcetines.html">Calcetines</li>
                                        <li><a href="../niños-accesorios/cinturones.html">Cinturones</a></li>
                                        <li><a href="../niños-accesorios/gorras.html">Gorras</a></li>
                                        <li><a href="../niños-accesorios/lentes-sol.html">Lentes</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>
                
                <div class="nav-icons">
                    <a href="#" class="nav-icon search-icon"><i class="fas fa-search"></i></a>
                    <a href="../login/logueo.html" class="nav-icon"><i class="fas fa-user"></i></a>
                    <a href="../carrito/carritos.html" class="nav-icon cart-icon">
                        <i class="fas fa-shopping-bag"></i>
                        <span class="cart-count">0</span>
                    </a>
                </div>
                
                <div class="hamburger">
                    <span></span><span></span><span></span>
                </div>
            </div>
        </nav>
    </header>

    <!-- Search Overlay -->
    <div id="searchOverlay" class="search-overlay">
        <div class="search-container">
            <span class="close-search">&times;</span>
            <div class="search-content">
                <h2>¿Qué estás buscando?</h2>
                <form class="search-form">
                    <input type="text" class="search-input" placeholder="Buscar productos...">
                    <button type="submit" class="search-button">
                        <i class="fas fa-search"></i>
                    </button>
                </form>
                <div class="search-suggestions">
                    <h3>Sugerencias populares:</h3>
                    <div class="suggestion-tags">
                        <span class="tag">Zapatillas Running</span>
                        <span class="tag">Nike Air Max</span>
                        <span class="tag">Adidas Ultraboost</span>
                        <span class="tag">Zapatillas Gym</span>
                        <span class="tag">Zapatillas Basketball</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Breadcrumb -->
    <div class="breadcrumb">
        <div class="breadcrumb-content">
            <a href="../index.html">Inicio</a> / 
            <a href="#hombres">Hombre</a> / 
            <span>Zapatillas Deportivas</span>
        </div>
    </div>

    <!-- Products Page -->
    <section class="products-page">
        <div class="products-container">
            <!-- Filters Sidebar -->
            <aside class="filters-sidebar">
                <div class="filter-section">
                    <h3>Talla</h3>
                    <div class="size-filter">
                        <div class="size-option">36</div>
                        <div class="size-option">37</div>
                        <div class="size-option">38</div>
                        <div class="size-option">39</div>
                        <div class="size-option">40</div>
                        <div class="size-option">41</div>
                        <div class="size-option">42</div>
                        <div class="size-option">43</div>
                        <div class="size-option">44</div>
                    </div>
                </div>

                <div class="filter-section">
                    <h3>Color</h3>
                    <div class="color-filter">
                        <div class="color-option" style="background: #000;" title="Negro"></div>
                        <div class="color-option" style="background: #fff; border: 1px solid #ddd;" title="Blanco"></div>
                        <div class="color-option" style="background: #2c3e50;" title="Azul Marino"></div>
                        <div class="color-option" style="background: #7f8c8d;" title="Gris"></div>
                        <div class="color-option" style="background: #e74c3c;" title="Rojo"></div>
                        <div class="color-option" style="background: #27ae60;" title="Verde"></div>
                    </div>
                </div>

                <div class="filter-section">
                    <h3>Marca</h3>
                    <div class="brand-filter">
                        <label class="brand-option">
                            <input type="checkbox"> Nike
                        </label>
                        <label class="brand-option">
                            <input type="checkbox"> Adidas
                        </label>
                        <label class="brand-option">
                            <input type="checkbox"> Puma
                        </label>
                        <label class="brand-option">
                            <input type="checkbox"> New Balance
                        </label>
                        <label class="brand-option">
                            <input type="checkbox"> Reebok
                        </label>
                        <label class="brand-option">
                            <input type="checkbox"> Under Armour
                        </label>
                    </div>
                </div>

                <div class="filter-section">
                    <h3>Actividad</h3>
                    <div class="brand-filter">
                        <label class="brand-option">
                            <input type="checkbox"> Running
                        </label>
                        <label class="brand-option">
                            <input type="checkbox"> Gym
                        </label>
                        <label class="brand-option">
                            <input type="checkbox"> Basketball
                        </label>
                        <label class="brand-option">
                            <input type="checkbox"> Fútbol
                        </label>
                        <label class="brand-option">
                            <input type="checkbox"> Casual
                        </label>
                    </div>
                </div>

                <div class="filter-section">
                    <h3>Material</h3>
                    <div class="brand-filter">
                        <label class="brand-option">
                            <input type="checkbox"> Malla
                        </label>
                        <label class="brand-option">
                            <input type="checkbox"> Cuero Sintético
                        </label>
                        <label class="brand-option">
                            <input type="checkbox"> Cuero Natural
                        </label>
                        <label class="brand-option">
                            <input type="checkbox"> Lona
                        </label>
                    </div>
                </div>
                <div class="filter-section" style="display: flex; justify-content: center; margin-top: 1rem;">
                    <button class="btn-add-cart" style="width: 150px; padding: 8px;">
                        Aplicar Filtros
                    </button>
                </div>
            </aside>

            <!-- Products Main Content -->
            <main class="products-main">
                <div class="products-header">
                    <h1>Zapatillas Deportivas para Hombres</h1>
                    <div class="sort-options">
                        <span class="products-count">9 productos</span>
                        <select>
                            <option>Ordenar por: Destacados</option>
                            <option>Precio: Menor a Mayor</option>
                            <option>Precio: Mayor a Menor</option>
                            <option>Más Nuevos</option>
                            <option>Mejor Valorados</option>
                        </select>
                    </div>
                </div>

                <div class="products-grid-detailed" id="productsGrid">
                    <!-- Los productos se cargan dinámicamente desde la API pública -->
                </div>

                <script>
                    (function(){
                        const API = '/api/productos/calzados';
                        const DEFAULT_IMG = '/img/calzado-default.jpg';
                        const GENDER = 'Hombre';
                        const TIPO = 'Deportivo';

                        function createCard(p){
                            const img = p.imagen || DEFAULT_IMG;
                            const brand = p.marca?.nombre || '';
                            const title = p.nombre || 'Sin nombre';
                            const price = p.precioVenta != null ? `S/ ${Number(p.precioVenta).toFixed(2)}` : '';
                            const div = document.createElement('div');
                            div.className = 'product-card-detailed';
                            div.dataset.productId = p.id || '';
                            div.innerHTML = `
                                <div class="product-image-detailed">
                                    <img src="${img}" alt="${title}" loading="lazy">
                                    <div class="product-overlay"><button class="quick-view">Vista Rápida</button></div>
                                </div>
                                <div class="product-info-detailed">
                                    <div class="product-brand">${brand}</div>
                                    <h3 class="product-title-detailed">${title}</h3>
                                    <div class="product-price"><span class="current-price">${price}</span></div>
                                    <div class="product-actions">
                                        <button class="btn-add-cart">Añadir al Carrito</button>
                                        <button class="btn-wishlist"><i class="far fa-heart"></i></button>
                                    </div>
                                </div>`;
                            return div;
                        }

                        async function load(){
                            try{
                                const url = `${API}?sexo=${encodeURIComponent(GENDER)}&tipo=${encodeURIComponent(TIPO)}`;
                                const res = await fetch(url, { headers: { 'Accept': 'application/json' } });
                                if (!res.ok) throw new Error('No se pudo obtener productos');
                                const data = await res.json();
                                const grid = document.getElementById('productsGrid');
                                const countSpan = document.querySelector('.products-count');
                                const items = Array.isArray(data) ? data : [];
                                grid.innerHTML = '';
                                if (countSpan) countSpan.textContent = `${items.length} productos`;
                                if (!items.length){
                                    grid.innerHTML = '<div class="empty-state">No hay productos disponibles en esta categoría.</div>';
                                    return;
                                }
                                items.forEach(p => grid.appendChild(createCard(p)));
                            }catch(err){
                                console.error(err);
                            }
                        }

                        document.addEventListener('DOMContentLoaded', load);
                    })();
                </script>
            </main>
        </div>
    </section>

     <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Detalles</h3>
                    <p>Tu destino para calzados y accesorios de calidad.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h3>Servicios</h3>
                    <ul>
                        <li><a href="../Servicios/guia_tallas.html">Guía de Tallas</a></li>
                        <li><a href="../Servicios/preguntas.html">Asistente</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Newsletter</h3>
                    <p>Suscríbete para recibir ofertas exclusivas</p>
                    <form class="newsletter-form">
                        <input type="email" placeholder="Tu email" required>
                        <button type="submit">Suscribirse</button>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Detalles. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>
    <div id="quickViewModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-body">
                </div>
        </div>
    </div>
    <script src="js/script.js"></script>
    <script src="js/carrito.js"></script>
</body>
</html>