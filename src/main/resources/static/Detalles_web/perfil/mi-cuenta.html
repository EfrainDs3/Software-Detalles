<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Perfil - Detalles</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="../css/perfil.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Montserrat:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>

<body>
    <!-- Navbar Completo -->
    <header>
        <nav class="navbar">
            <div class="nav-container">
                <!-- Logo izquierda -->
                <a href="/" class="logo-link">
                    <img src="../img/logo-detalles.jpg" alt="Detalles - Calzados y Accesorios">
                </a>

                <!-- Menú centrado -->
                <ul class="nav-menu">
                    <li><a href="/">Inicio</a></li>

                    <!-- Submenú Mujeres -->
                    <li class="menu-item-has-children">
                        <a href="#mujeres">Mujeres <i class="fas fa-chevron-down"></i></a>
                        <div class="submenu">
                            <div class="submenu-content">
                                <div class="submenu-column">
                                    <h3>Calzado</h3>
                                    <ul>
                                        <li><a href="../mujeres/zapatillas-deportivas.html">Zapatillas Deportivas</a>
                                        </li>
                                        <li><a href="../mujeres/zapatos-casuales.html">Zapatos Casuales</a></li>
                                        <li><a href="../mujeres/tacones.html">Tacones</a></li>
                                        <li><a href="../mujeres/sandalias.html">Sandalias</a></li>
                                        <li><a href="../mujeres/botas.html">Botas</a></li>
                                    </ul>
                                </div>
                                <div class="submenu-column">
                                    <h3>Accesorios</h3>
                                    <ul>
                                        <li><a href="../mujeres-accesorios/bolsos.html">Bolsos</a></li>
                                        <li><a href="../mujeres-accesorios/billeteras.html">Billeteras</a></li>
                                        <li><a href="../mujeres-accesorios/gafas-de-sol.html">Gafas de Sol</a></li>
                                        <li><a href="../mujeres-accesorios/cinturones.html">Cinturones</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </li>

                    <!-- Submenú Hombres -->
                    <li class="menu-item-has-children">
                        <a href="#hombres">Hombres <i class="fas fa-chevron-down"></i></a>
                        <div class="submenu">
                            <div class="submenu-content">
                                <div class="submenu-column">
                                    <h3>Calzado</h3>
                                    <ul>
                                        <li><a href="../hombres/zapatillas-deportivas-h.html">Zapatillas Deportivas</a>
                                        </li>
                                        <li><a href="../hombres/zapatos-casuales-h.html">Zapatos Casuales</a></li>
                                        <li><a href="../hombres/zapatos-formales-h.html">Zapatos Formales</a></li>
                                        <li><a href="../hombres/botas-h.html">Botas</a></li>
                                        <li><a href="../hombres/sandalias-h.html">Sandalias</a></li>
                                    </ul>
                                </div>
                                <div class="submenu-column">
                                    <h3>Accesorios</h3>
                                    <ul>
                                        <li><a href="../hombres-accesorios/cinturones-h.html">Cinturones</a></li>
                                        <li><a href="../hombres-accesorios/relojes-h.html">Relojes</a></li>
                                        <li><a href="../hombres-accesorios/gafas-de-sol-h.html">Gafas de Sol</a></li>
                                        <li><a href="../hombres-accesorios/billeteras-h.html">Billeteras</a></li>
                                        <li><a href="../hombres-accesorios/gorros-h.html">Gorros</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </li>

                    <!-- Submenú Niños -->
                    <li class="menu-item-has-children">
                        <a href="#ninos">Niños <i class="fas fa-chevron-down"></i></a>
                        <div class="submenu">
                            <div class="submenu-content">
                                <div class="submenu-column">
                                    <h3>Calzado</h3>
                                    <ul>
                                        <li><a href="../niños/zapatillas-deportivas.html">Zapatillas Deportivas</a></li>
                                        <li><a href="../niños/zapatos-casuales.html">Zapatos Casuales</a></li>
                                        <li><a href="../niños/zapatos-escolares.html">Zapatos Escolares</a></li>
                                        <li><a href="../niños/pantuflas.html">Pantuflas</a></li>
                                        <li><a href="../niños/sandalias.html">Sandalias</a></li>
                                        <li><a href="../niños/botas.html">Botas</a></li>
                                    </ul>
                                </div>
                                <div class="submenu-column">
                                    <h3>Accesorios</h3>
                                    <ul>
                                        <li><a href="../niños-accesorios/calcetines.html">Calcetines</a></li>
                                        <li><a href="../niños-accesorios/cinturones.html">Cinturones</a></li>
                                        <li><a href="../niños-accesorios/gorras.html">Gorras</a></li>
                                        <li><a href="../niños-accesorios/lentes-sol.html">Lentes</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>

                <!-- Iconos derecha -->
                <div class="nav-icons">
                    <div class="search-container">
                        <div class="search-form">
                            <input type="text" id="searchInput" placeholder="Buscar productos..." class="search-input">
                            <button class="search-button">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </div>

                    <a href="mi-cuenta.html" class="nav-icon">
                        <i class="fas fa-user"></i>
                    </a>

                    <a href="../carrito/carritos.html" class="nav-icon cart-icon">
                        <i class="fas fa-shopping-bag"></i>
                        <span class="cart-count">0</span>
                    </a>
                </div>

                <!-- Hamburger para móvil -->
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </nav>
    </header>

    <!-- Perfil Container -->
    <div class="perfil-container">
        <!-- Sidebar -->
        <aside class="perfil-sidebar">
            <div class="perfil-user-header">
                <div class="perfil-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <h3 class="perfil-username" id="sidebarUsername">Cargando...</h3>
                <p class="perfil-email" id="sidebarEmail"></p>
            </div>

            <nav class="perfil-nav">
                <a href="#" class="perfil-nav-item active" data-section="datos">
                    <i class="fas fa-user-circle"></i>
                    <span>Mi Perfil</span>
                </a>
                <a href="#" class="perfil-nav-item" data-section="compras">
                    <i class="fas fa-shopping-bag"></i>
                    <span>Mis Compras</span>
                </a>
                <a href="#" class="perfil-nav-item" data-section="favoritos">
                    <i class="fas fa-heart"></i>
                    <span>Favoritos</span>
                </a>
                <a href="#" class="perfil-nav-item" data-section="password">
                    <i class="fas fa-key"></i>
                    <span>Cambiar Contraseña</span>
                </a>
            </nav>

            <button class="perfil-logout-btn" id="logoutBtn">
                <i class="fas fa-sign-out-alt"></i>
                Cerrar Sesión
            </button>
        </aside>

        <!-- Main Content -->
        <main class="perfil-main">
            <!-- Sección: Mi Perfil -->
            <section class="perfil-section active" id="section-datos">
                <div class="perfil-section-header">
                    <h2>Perfil</h2>
                    <p class="perfil-subtitle">Información personal</p>
                </div>

                <div id="loading-datos" class="perfil-loading">
                    <i class="fas fa-spinner fa-spin"></i> Cargando...
                </div>

                <div id="content-datos" class="perfil-content" style="display:none;">
                    <div id="perfil-message" class="perfil-message" style="display:none;"></div>

                    <div class="perfil-form-grid">
                        <div class="perfil-form-group full-width">
                            <label>Nombre de Usuario</label>
                            <input type="text" id="username" readonly class="perfil-input readonly">
                        </div>

                        <div class="perfil-form-group">
                            <label>Nombres</label>
                            <input type="text" id="nombres" class="perfil-input">
                        </div>

                        <div class="perfil-form-group">
                            <label>Apellidos</label>
                            <input type="text" id="apellidos" class="perfil-input">
                        </div>

                        <div class="perfil-form-group full-width">
                            <label>Correo Electrónico</label>
                            <input type="email" id="email" class="perfil-input">
                        </div>

                        <div class="perfil-form-group">
                            <label>DNI</label>
                            <input type="text" id="documento" class="perfil-input" pattern="[0-9]{8}" maxlength="8">
                        </div>

                        <div class="perfil-form-group">
                            <label>Celular</label>
                            <input type="tel" id="celular" class="perfil-input" pattern="[0-9]{9}" maxlength="9">
                        </div>
                    </div>

                    <div class="perfil-actions">
                        <button type="button" class="perfil-btn-primary" id="guardarCambios">
                            <i class="fas fa-save"></i> Guardar Cambios
                        </button>
                    </div>
                </div>
            </section>

            <!-- Sección: Mis Compras -->
            <section class="perfil-section" id="section-compras" style="display:none;">
                <div class="perfil-section-header">
                    <h2>Mis Compras</h2>
                    <p class="perfil-subtitle">Historial de pedidos</p>
                </div>

                <div class="perfil-empty-state">
                    <i class="fas fa-shopping-bag"></i>
                    <h3>No tienes compras registradas</h3>
                    <p>Cuando realices tu primera compra, aparecerá aquí</p>
                    <a href="../index.html" class="perfil-btn-primary">Explorar Productos</a>
                </div>
            </section>

            <!-- Sección: Favoritos -->
            <section class="perfil-section" id="section-favoritos" style="display:none;">
                <div class="perfil-section-header">
                    <h2>Mis Favoritos</h2>
                    <p class="perfil-subtitle">Productos que te gustan</p>
                </div>

                <div id="loading-favoritos" class="perfil-loading">
                    <i class="fas fa-spinner fa-spin"></i> Cargando favoritos...
                </div>

                <div id="favoritos-grid" class="favoritos-grid" style="display:none;"></div>

                <div id="empty-favoritos" class="perfil-empty-state" style="display:none;">
                    <i class="fas fa-heart-broken"></i>
                    <h3>No tienes favoritos aún</h3>
                    <p>Agrega productos a tus favoritos para verlos aquí</p>
                    <a href="../index.html" class="perfil-btn-primary">Explorar Productos</a>
                </div>
            </section>

            <!-- Sección: Cambiar Contraseña -->
            <section class="perfil-section" id="section-password" style="display:none;">
                <div class="perfil-section-header">
                    <h2>Cambiar Contraseña</h2>
                    <p class="perfil-subtitle">Actualiza tu contraseña de acceso</p>
                </div>

                <div id="password-message" class="perfil-message" style="display:none;"></div>

                <form id="password-form" class="perfil-password-form">
                    <div class="perfil-form-group full-width">
                        <label>Contraseña Actual</label>
                        <input type="password" id="password-actual" class="perfil-input" required>
                    </div>

                    <div class="perfil-form-group full-width">
                        <label>Nueva Contraseña</label>
                        <input type="password" id="password-nueva" class="perfil-input" required minlength="6">
                    </div>

                    <div class="perfil-form-group full-width">
                        <label>Confirmar Nueva Contraseña</label>
                        <input type="password" id="password-confirm" class="perfil-input" required minlength="6">
                    </div>

                    <div class="perfil-actions">
                        <button type="submit" class="perfil-btn-primary">
                            <i class="fas fa-save"></i> Guardar Contraseña
                        </button>
                    </div>
                </form>
            </section>
        </main>
    </div>

    <script src="../js/perfil-page.js"></script>
    <script src="../js/cart-count.js"></script>
</body>

</html>